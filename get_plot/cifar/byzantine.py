import matplotlib.pyplot as plt

# Byzantine攻击下不同聚合算法的表现, mal=0.4

# FedAvg
y1 = [11.38,  9.79,  12.07,  11.85,  12.34,  9.42,  9.65,  9.65,  10.00,  10.01,  9.88,  10.36,  10.00,  10.00,  9.99,  10.00,  9.89,  10.02,  10.00,  10.04,  10.00,  10.10,  10.00,  10.07,  10.00,  9.95,  10.00,  10.00,  10.07,  10.00,  10.00,  10.00,  10.00,  9.85,  10.00]
# Krum
y2 = [26.69,  28.87,  34.19,  40.81,  39.35,  43.40,  43.91,  48.50,  40.04,  40.04,  44.56,  44.56,  47.90,  47.26,  48.94,  48.94,  47.00,  48.39,  48.39,  49.41,  49.41,  49.51,  49.41,  49.46,  50.55,  50.61,  50.59,  50.66,  51.66,  51.70,  51.58,  51.78,  52.78,  52.73,  51.65]
# Trimmed_mean
y3 = [29.83,  32.81,  37.97,  42.00,  44.36,  46.30,  47.47,  49.05,  50.76,  52.01,  53.02,  54.00,  54.86,  55.40,  56.32,  57.06,  57.70,  58.49,  59.35,  59.77,  60.81,  61.67,  62.16,  62.49,  62.88,  63.19,  63.86,  64.61,  65.27,  65.46,  65.77,  65.86,  66.23,  66.52,  66.84]
# mkrum
y4 = [31.29,  34.48,  40.10,  42.62,  45.42,  46.88,  48.61,  49.00,  50.71,  52.31,  53.44,  53.32,  54.29,  55.08,  56.35,  57.17,  57.83,  58.16,  58.49,  58.77,  58.75,  60.06,  60.32,  61.54,  62.25,  62.77,  62.72,  63.53,  63.75,  64.49,  65.07,  65.19,  65.41,  65.41,  66.08]
# AFA
y5 = [11.72,  16.21,  32.77,  39.98,  43.41,  45.43,  48.08,  49.59,  50.59,  50.66,  53.05,  54.02,  53.19,  54.43,  53.77,  52.64,  50.36,  50.88,  50.18,  49.70,  47.30,  48.49,  46.44,  45.04,  52.56,  55.66,  56.67,  57.17,  58.22,  58.03,  59.54,  59.60,  59.53,  60.30,  60.58]
labels = ['FedAvg', 'Krum', 'Trimmed_mean', 'mKrum', 'AFA']
plt.rcParams['font.sans-serif'] = ['SimHei']

font = {'family': 'Times New Roman',
        'weight': 'normal',
        'size': 12
        }
plt.figure()
plt.ylabel('ACC OF TEST(%)', font)
plt.xlabel('Epoch', font)
plt.plot(y1,'-r', label=labels[0])
plt.plot(y2,'-y', label=labels[1])
plt.plot(y3,'-k', label=labels[2])
plt.plot(y4, '-b', label=labels[3])
plt.plot(y5, '-g', label=labels[4])
plt.legend(prop=font)
plt.title("噪声攻击下使用不同聚合算法的分类准确率")
plt.grid()
plt.show()