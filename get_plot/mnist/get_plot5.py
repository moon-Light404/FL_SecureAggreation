import matplotlib.pyplot as plt

# Byzantine攻击下不同聚合算法的表现, mal=0.4

# FedAvg
y1 = [14.310,  14.920,  23.660,  20.870,  14.380,  11.030,  12.170,  8.660,  11.910,  10.220,  10.210,  10.610,  10.300,  9.630,  10.200,  9.690,  9.740,  10.080,  10.130,  9.670,  10.300,  10.090,  11.390,  9.740,  9.580,  9.540,  11.360,  10.100,  11.350,  11.350]
# Krum
y2 = [82.010,  84.010,  84.010,  92.940,  92.940,  94.440,  95.250,  95.250,  94.880,  94.880,  94.880,  94.880,  95.880,  95.880,  95.880,  95.880,  95.880,  95.880,  95.790,  95.840,  96.190,  96.480,  96.480,  96.720,  96.720,  96.720,  96.590,  96.550,  96.700,  96.720 ]
# Trimmed_mean
y3 = [82.480,  91.520,  92.630,  93.810,  94.320,  95.760,  95.100,  95.540,  96.640,  95.790,  96.920,  97.040,  97.160,  97.290,  97.350,  97.460,  97.310,  97.590,  97.620,  97.420 , 96.790 , 96.830 , 96.860,  96.960 , 96.940 , 96.980,  96.990,  97.120 , 97.050 , 97.240 ]
# mkrum
y4 = [79.950,  94.070,  94.730,  95.360,  95.790,  96.360,  96.550,  96.720,  96.790,  96.860,  96.930,  96.970,  97.220,  97.270,  97.570,  97.680,  97.730,  97.810,  97.850,  97.850,  97.880,  98.010,  98.090,  97.990,  98.090,  98.110,  98.020,  98.060,  98.160,  98.310]
# AFA
y5 = [31.570,  51.040,  46.840,  61.430,  50.650,  42.520,  65.510,  65.590,  56.580,  61.740,  58.150,  62.590,  73.680,  69.580,  77.460,  75.190,  64.330,  66.400,  77.630,  71.210,  71.350,  70.310,  77.160,  79.230,  74.910,  64.370,  77.400,  79.150,  81.250,  82.680 ]
labels = ['FedAvg', 'Krum', 'Trimmed_mean', 'mKrum', 'AFA']
plt.rcParams['font.sans-serif'] = ['SimHei']

font = {'family': 'Times New Roman',
        'weight': 'normal',
        'size': 12
        }
plt.figure()
plt.ylabel('ACC OF TEST(%)', font)
plt.xlabel('Epoch', font)
plt.plot(y1,'-r', label=labels[0])
plt.plot(y2,'-y', label=labels[1])
plt.plot(y3,'-k', label=labels[2])
plt.plot(y4, '-b', label=labels[3])
plt.plot(y5, '-g', label=labels[4])
plt.legend(prop=font)
plt.title("噪声攻击下使用不同聚合算法的分类准确率")
plt.grid()
plt.show()