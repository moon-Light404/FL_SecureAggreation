import matplotlib.pyplot as plt

# label_Flip攻击下不同聚合算法的表现, mal=0.4

# FedAvg
y1 = [9.800,  79.030,  19.370,  81.800,  21.210 , 68.080,  16.070,  87.770,  36.390,  78.550,  26.850,  75.490,  40.080,  80.700,  19.170,  85.080,  19.110,  83.840,  28.280,  80.300,  19.730,  87.230,  17.940,  82.570,  44.210,  79.250,  38.240,  74.750,  38.150,  76.470 ]
# Krum
y2 = [11.360,  9.800,  9.800,  9.800,  9.800,  64.200,  64.400,  64.200,  64.600,  73.990,  76.140,  78.650,  78.650,  78.750,  81.370,  81.390,  81.370,  81.360,  82.280,  83.690,  83.790,  84.450,  85.420,  86.400,  87.430,  87.430,  87.430,  89.900,  89.900,  89.900 ]
# Trimmed_mean
y3 = [9.800,  67.220,  64.330,  66.940,  60.190,  10.850,  72.180,  69.190,  64.000,  69.210,  54.980,  78.090,  78.870 , 74.510,  78.990,  78.610,  81.580,  77.590,  86.970 , 85.500,  85.150,  84.960,  82.880,  81.590,  85.720,  85.470,  83.850,  83.660,  83.640 , 85.290 ]
# Bulyan
y4 = [11.360,  9.800,  9.800,  9.800,  9.800,  87.070,  89.650,  92.750,  93.570,  94.900,  94.270,  94.490,  95.060,  96.280,  95.610,  96.740,  96.870,  90.030,  96.110,  97.170,  96.420 , 96.480,  97.390,  96.440,  96.480,  90.460,  96.580,  88.590,  96.510,  96.570 ]
# AFA
y5 = [9.800,  89.710,  36.410,  85.210,  91.200,  80.490,  74.350,  60.570,  84.200,  61.870,  83.190,  92.170,  92.300,  84.800,  59.010,  93.420,  91.870,  73.370,  92.250,  88.020,  89.350,  92.180,  65.410,  94.950 , 96.790,  72.100,  91.400,  63.660 , 91.220 , 94.270 ]

labels = ['FedAvg', 'Krum', 'Trimmed_mean', 'mKrum', 'AFA']
plt.rcParams['font.sans-serif'] = ['SimHei']
font = {'family': 'Times New Roman',
        'weight': 'normal',
        'size': 12
        }
plt.figure()
plt.ylabel('ACC OF TEST(%)', font)
plt.xlabel('Epoch', font)
plt.plot(y1,'-r', label=labels[0])
plt.plot(y2,'-y', label=labels[1])
plt.plot(y3,'-k', label=labels[2])
plt.plot(y4, '-b', label=labels[3])
plt.plot(y5, '-g', label=labels[4])
plt.legend(prop=font)
plt.title("标签翻转攻击下使用不同聚合算法的分类准确率")
plt.grid()
plt.show()