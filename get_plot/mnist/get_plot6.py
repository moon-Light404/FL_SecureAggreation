import matplotlib.pyplot as plt

# Scale攻击下不同聚合算法的表现, mal=0.4

# FedAvg
y1 = [ 88.000,  91.790,  81.280,  27.970 , 14.330  ,11.350 , 11.350 , 11.350 , 11.350 , 11.350  ,11.350 , 11.350 , 11.350 , 11.350 , 11.350,  11.350 , 11.350 , 11.350 , 11.350  ,11.350  ,11.350,  11.350 , 11.350,  11.350 , 11.350 , 11.350 , 11.350  ,11.350,  11.350,  11.350]
# Krum
y2 = [11.360, 76.400,  92.760,  92.760 , 94.390 , 94.390 , 95.010 , 95.380,  95.380,  95.380 , 95.610 , 95.610 , 95.780 , 96.210,  96.520,  96.240,  96.500,  96.440,  96.440,  96.980,  96.850 , 97.120,  97.120,  96.950,  96.960,  96.910,  96.740,  96.870 , 96.870 , 96.950 ]
# Trimmed_mean
y3 = [86.730,  93.410,  94.740 , 95.400 , 95.850  ,96.090 , 96.330,  96.450 , 96.560,  96.580,  96.760,  96.800,  96.810  ,96.840,  96.760,  96.800,  96.720,  96.620 , 96.630 , 96.540,  96.210,  95.970,  95.760,  95.610,  95.290,  94.870,  93.650,  92.990,  92.130 , 90.400 ]
# mkrum
y4 = [90.56,  95.17,  96.10,  96.52,  96.93,  97.28,  97.44,  97.66,  97.78,  97.90,  97.90,  97.97,  98.04,  98.15,  98.13,  98.21,  98.27,  98.24,  98.41,  98.37,  98.37,  98.42,  97.46,  97.51,  97.60,  97.62,  97.58,  97.56,  97.55,  97.55, ]
# AFA
y5 = [86.54,  95.34,  96.18,  96.68,  95.02,  96.17,  96.19,  96.14,  61.45,  82.25,  87.54,  87.45,  84.43,  85.36,  76.54,  66.74,  63.76,  61.44,  61.35,  62.30,  60.36,  60.56,  62.45,  63.44,  82.54,  60.63,  70.56,  72.60,  75.12,  76.52]
labels = ['FedAvg', 'Krum', 'Trimmed_mean', 'mKrum', 'AFA']
plt.rcParams['font.sans-serif'] = ['SimHei']

font = {'family': 'Times New Roman',
        'weight': 'normal',
        'size': 12
        }
plt.figure()
plt.ylabel('ACC OF TEST(%)', font)
plt.xlabel('Epoch', font)
plt.plot(y1,'-r', label=labels[0])
plt.plot(y2,'-y', label=labels[1])
plt.plot(y3,'-k', label=labels[2])
plt.plot(y4, '-b', label=labels[3])
plt.plot(y5, '-g', label=labels[4])
plt.legend(loc='right', prop=font)
plt.title("权重放大攻击下使用不同聚合算法的分类准确率")
plt.grid()
plt.show()